(function(e){function r(e,n){e.preventDefault();t={x:e.originalEvent.clientX,y:e.originalEvent.clientY};n(l({source:"mouse",type:"begin",current:t,origin:t}))}function i(e,n){e.preventDefault();var r={x:e.originalEvent.clientX,y:e.originalEvent.clientY};var i=l({source:"mouse",type:"move",current:r});if(t){i.type="drag";i.origin=t;i.travel={x:r.x-t.x,y:r.y-t.y}}n(i)}function s(e,n){e.preventDefault();var r={x:e.originalEvent.clientX,y:e.originalEvent.clientY};var i=l({source:"mouse",type:"end",current:r});if(t){i.origin=t;i.travel={x:r.x-t.x,y:r.y-t.y}}n(i);t=null}function o(e,n){e.preventDefault();var r=f(e);t={x:r.clientX,y:r.clientY};n(l({source:"touch",type:"begin",current:t,origin:t}))}function u(e,r){e.preventDefault();var i=f(e);var s=n={x:i.clientX,y:i.clientY};var o=l({source:"touch",type:"move",current:s});if(t){o.type="drag";o.origin=t;o.travel={x:s.x-t.x,y:s.y-t.y}}r(o)}function a(e,r){e.preventDefault();var i=f(e);var s={x:n.x,y:n.y};var o={x:s.x-t.x,y:s.y-t.y};r(l({source:"touch",type:"end",current:s,origin:t,travel:o}));t=n=null}function f(e){var t=e.originalEvent.touches||e.originalEvent.changedTouches;return t&&t.length>0?t[0]:null}function l(t){return e.extend({source:null,type:null,current:{x:0,y:0},origin:{x:0,y:0},travel:{x:0,y:0}},t)}var t=null;var n=null;e.fn.unify=function(e){this.on("mousedown",function(t){r(t,e)}).on("mousemove",function(t){i(t,e)}).on("mouseup mouseleave",function(t){s(t,e)}).on("touchstart",function(t){o(t,e)}).on("touchmove",function(t){u(t,e)}).on("touchend",function(t){a(t,e)})}})(jQuery)
