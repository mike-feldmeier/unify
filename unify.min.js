!function(a){function e(a,d){a.preventDefault(),b=c={x:a.originalEvent.clientX,y:a.originalEvent.clientY},d(l({source:"mouse",type:"begin",current:b,origin:b}))}function f(a,d){a.preventDefault();var e={x:a.originalEvent.clientX,y:a.originalEvent.clientY},f=l({source:"mouse",type:"move",current:e});b&&(f.type="drag",f.origin=b,f.travel={x:e.x-b.x,y:e.y-b.y},f.delta={x:e.x-c.x,y:e.y-c.y},c=e),d(f)}function g(a,d){a.preventDefault();var e={x:a.originalEvent.clientX,y:a.originalEvent.clientY},f=l({source:"mouse",type:"end",current:e});b&&(f.origin=b,f.travel={x:e.x-b.x,y:e.y-b.y},f.delta={x:e.x-c.x,y:e.y-c.y}),d(f),b&&(m(b,e)&&m(f.delta,{x:0,y:0})&&(f.type="tap"),d(f)),b=c=null}function h(a,d){a.preventDefault();var e=k(a);b=c={x:e.clientX,y:e.clientY},d(l({source:"touch",type:"begin",current:b,origin:b}))}function i(a,e){a.preventDefault();var f=k(a),g=d={x:f.clientX,y:f.clientY},h=l({source:"touch",type:"move",current:g});b&&(h.type="drag",h.origin=b,h.travel={x:g.x-b.x,y:g.y-b.y},h.delta={x:g.x-c.x,y:g.y-c.y},c=g),e(h)}function j(a,e){a.preventDefault();var g=(k(a),{x:d.x,y:d.y}),h={x:g.x-b.x,y:g.y-b.y},i={x:g.x-c.x,y:g.y-c.y},j=l({source:"touch",type:"end",current:g,origin:b,travel:h,delta:i});e(j),m(b,g)&&m(j.delta,{x:0,y:0})&&(j.type="tap",e(j)),b=d=c=null}function k(a){var b=a.originalEvent.touches||a.originalEvent.changedTouches;return b&&b.length>0?b[0]:null}function l(b){return a.extend({source:null,type:null,current:{x:0,y:0},origin:{x:0,y:0},travel:{x:0,y:0},delta:{x:0,y:0}},b)}function m(a,b){return a.x===b.x&&a.y===b.y}var b=null,c=null,d=null;a.fn.unify=function(a){this.on("mousedown",function(b){e(b,a)}).on("mousemove",function(b){f(b,a)}).on("mouseup mouseleave",function(b){g(b,a)}).on("touchstart",function(b){h(b,a)}).on("touchmove",function(b){i(b,a)}).on("touchend",function(b){j(b,a)})}}(jQuery);
