!function(n){function e(n,e){n.preventDefault(),y=a={x:n.originalEvent.clientX,y:n.originalEvent.clientY},e(c({source:"mouse",type:"begin",current:y,origin:y}))}function t(n,e){n.preventDefault();var t={x:n.originalEvent.clientX,y:n.originalEvent.clientY},o=c({source:"mouse",type:"move",current:t});y&&(o.type="drag",o.origin=y,o.travel={x:t.x-y.x,y:t.y-y.y},o.delta={x:t.x-a.x,y:t.y-a.y},a=t),e(o)}function o(n,e){n.preventDefault();var t={x:n.originalEvent.clientX,y:n.originalEvent.clientY},o=c({source:"mouse",type:"end",current:t});y&&(o.origin=y,o.travel={x:t.x-y.x,y:t.y-y.y},o.delta={x:t.x-a.x,y:t.y-a.y}),e(o),y=a=null}function u(n,e){n.preventDefault();var t=l(n);y=a={x:t.clientX,y:t.clientY},e(c({source:"touch",type:"begin",current:y,origin:y}))}function r(n,e){n.preventDefault();var t=l(n),o=x={x:t.clientX,y:t.clientY},u=c({source:"touch",type:"move",current:o});y&&(u.type="drag",u.origin=y,u.travel={x:o.x-y.x,y:o.y-y.y},u.delta={x:o.x-a.x,y:o.y-a.y},a=o),e(u)}function i(n,e){n.preventDefault();var t=(l(n),{x:x.x,y:x.y}),o={x:t.x-y.x,y:t.y-y.y},u={x:t.x-a.x,y:t.y-a.y};e(c({source:"touch",type:"end",current:t,origin:y,travel:o,delta:u})),y=x=a=null}function l(n){var e=n.originalEvent.touches||n.originalEvent.changedTouches;return e&&e.length>0?e[0]:null}function c(e){return n.extend({source:null,type:null,current:{x:0,y:0},origin:{x:0,y:0},travel:{x:0,y:0},delta:{x:0,y:0}},e)}var y=null,a=null,x=null;n.fn.unify=function(n){this.on("mousedown",function(t){e(t,n)}).on("mousemove",function(e){t(e,n)}).on("mouseup mouseleave",function(e){o(e,n)}).on("touchstart",function(e){u(e,n)}).on("touchmove",function(e){r(e,n)}).on("touchend",function(e){i(e,n)})}}(jQuery);